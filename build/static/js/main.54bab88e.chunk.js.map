{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","handleCardClick","type","handleCardDelete","name","handleCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onCardClick","onCardLike","onCardDelete","Footer","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","closeAllPopups","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","isOpen","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","pattern","AddPlacePopup","setTitle","setLink","newApi","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","_putLike","_deleteLike","authorization","App","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","selectedCard","setCard","setCurrentUser","setCards","getInitialCards","data","catch","err","console","log","getProfileInfo","window","addEventListener","evt","key","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","user","editProfileInfo","picture","addNewCard","addNewAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54bab88e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header root__header\">\n      <img src={logo} alt=\"логотип сайта\" className=\"header__logo\"/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.handleCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.handleCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.handleCardDelete(props.card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `elements__button-delite ${isOwn ? 'elements__button-delite' : 'elements__button-delite_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `elements__button-like ${isLiked ? 'elements__button-like_black' : 'elements__button-like'}`\n  );\n\n  return (\n    (\n      <div className=\"elements__item\">\n        <img src={props.card.link} className=\"elements__image\" alt=\"место в России\" onClick={handleClick}/>\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}>\n        </button>\n        <div className=\"elements__name\">\n          <h2 className=\"elements__title\">{props.card.name}</h2>\n          <div className=\"elements__group\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}>\n            </button>\n            <p className=\"elements__counter\">{props.card.likes.length}</p>\n          </div>\n        </div>\n      </div>\n    )\n  )\n}\n\nexport default Card\n","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt=\"аватар пользователя\" className=\"profile__avatar\"/>\n          <button className=\"profile__avatar-edit\"\n                  onClick={props.onEditAvatar}>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\"\n                  onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\"\n                onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <section className=\"elements root__elements\">\n        {\n          props.cards.map((card, i) => (\n            <Card key={card._id} handleCardClick={props.onCardClick}\n                  handleCardLike={props.onCardLike} handleCardDelete={props.onCardDelete}\n                  card={card}\n            />\n          ))\n        }\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; {new Date().getFullYear()} Антонина Полякова</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_dark popup-preview ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container-preview\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.onClose}>\n        </button>\n        <img src={props.card ? props.card.link : ''} alt=\"изображение достопримечательности в России\"\n             className=\"popup__image\"/>\n        <p className=\"popup__preview-title\">{props.card ? props.card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup-${props.name} ${props.isEditProfilePopupOpen ||\n    props.isAddPlacePopupOpen || props.isEditAvatarPopupOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\"\n                onClick={props.closeAllPopups}>\n        </button>\n        <form name={`${props.name}`} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n// Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"user\" title=\"Редактировать профиль\" isEditProfilePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"user-input\" type=\"text\" name=\"name\" value={name} onChange={handleChangeName}\n               className=\"popup__input popup__input-name\"\n               placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"/>\n        <span className=\"popup__input-error user-input-error\">\n            </span>\n      </label>\n      <label>\n        <input id=\"job-input\" type=\"text\" name=\"profession\" value={description} onChange={handleChangeDescription}\n               className=\"popup__input popup__input-job\"\n               placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\"/>\n        <span className=\"popup__input-error job-input-error\">\n            </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button\" onClick={props.onClose}>Сохранить</button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар?\" isEditAvatarPopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"input\" type=\"url\" name=\"image\" ref={avatarRef}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error input-error\">\n              </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onAddPlace({\n      name: title,\n      link: link,\n    });\n\n    setTitle('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"place\" title=\"Новое место\" isAddPlacePopupOpen={props.isOpen}\n                   closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n      <label>\n        <input id=\"place-input\" type=\"text\" name=\"place-title\" value={title} onChange={handleChangeTitle}\n               className=\"popup__input popup__input_small popup__input-place-title\"\n               placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\n        <span className=\"popup__input-error place-input-error\">\n        </span>\n      </label>\n      <label>\n        <input id=\"link-input\" type=\"url\" name=\"image\" value={link} onChange={handleChangeLink}\n               className=\"popup__input popup__input_small popup__input-image\"\n               placeholder=\"Ссылка на картинку\" required pattern=\"https?://.+\"/>\n        <span className=\"popup__input-error link-input-error\">\n        </span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\"\n              onClick={props.onClose}>Создать\n      </button>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  // запрос данных пользователя с сервера\n  getProfileInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n  // редактирование данных пользователя\n  editProfileInfo(name, about) {\n    return fetch(this.baseUrl + 'users/me', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // загрузка массива карточек с сервера\n  getInitialCards() {\n    return fetch(this.baseUrl + 'cards', {\n      headers: this.headers\n    })\n      .then(this._checkResponse)\n  }\n\n// добавление новой карточки\n  addNewCard(name, link) {\n    return fetch(this.baseUrl + 'cards', {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n// редактирование аватара\n  addNewAvatar(avatar) {\n    return fetch(this.baseUrl + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  // удаление карточки\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + `cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._putLike(cardId)\n    } else {\n      return this._deleteLike(cardId)\n    }\n  }\n\n  //поставить лайк\n  _putLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  //удалить лайк\n  _deleteLike(cardId) {\n    return fetch(this.baseUrl + `cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse)\n  }\n}\n\n\nconst newApi = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20/',\n  headers: {\n    authorization: 'b9b88552-735f-4768-bf07-4ff3fcde19d4',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default newApi\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport newApi from \"../utils/api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({name: '', about: '', avatar: ''});\n  const [cards, setCards] = React.useState([]);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    newApi.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleCardDelete(card) {\n    newApi.deleteCard(card._id)\n      .then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  React.useEffect(() => {\n    newApi.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    newApi.getProfileInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, []);\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setCard(card);\n  }\n\n  function handleUpdateUser(user) {\n    newApi.editProfileInfo(user.name, user.about)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleUpdateAvatar(user) {\n    newApi.addNewAvatar(user.avatar)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function handleAddPlaceSubmit(picture) {\n    newApi.addNewCard(picture.name, picture.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setCard(null)\n  }\n\n  React.useEffect(() => {\n    // закрытие попапа кликом на esc\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    window.addEventListener('keydown', handleEscClose);\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <div className=\"page\">\n          <Header/>\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer/>\n          <EditProfilePopup isOpen={isEditProfilePopupOpen}\n                            onClose={closeAllPopups}\n                            onUpdateUser={handleUpdateUser}/>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen}\n                         onClose={closeAllPopups}\n                         onAddPlace={handleAddPlaceSubmit}/>\n\n          <ImagePopup onClose={closeAllPopups} card={selectedCard}/>\n\n          <PopupWithForm name=\"popup-delete-card\" title=\"Вы уверены?\">\n            <button type=\"submit\" className=\"popup__button popup__button_small popup__button-place\">Да</button>\n          </PopupWithForm>\n\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                           onUpdateAvatar={handleUpdateAvatar}/>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}