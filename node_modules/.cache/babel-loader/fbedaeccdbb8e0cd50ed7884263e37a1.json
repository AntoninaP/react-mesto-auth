{"ast":null,"code":"import _slicedToArray from\"/Users/oleg/Desktop/prakticum/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import newApi from\"../utils/api\";import Card from\"./Card\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{CurrentCardContext}from\"../contexts/CurrentCardContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var currentUser=React.useContext(CurrentUserContext);// const [userName, setUserName] = React.useState('');\n// const [userDescription, setDescription] = React.useState('');\n// const [userAvatar, setAvatar] = React.useState('');\n//\n// React.useEffect(() => {\n//   newApi.getProfileInfo()\n//     .then((data) => {\n//       setUserName(data.name);\n//       setDescription(data.about);\n//       setAvatar(data.avatar);\n//     })\n//     .catch((err) => {\n//       console.log('error', err)\n//     })\n// }, [])\nvar _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),cards=_React$useState2[0],setCards=_React$useState2[1];React.useEffect(function(){newApi.getInitialCards().then(function(data){setCards(data);}).catch(function(err){console.log('error',err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentUser.avatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",className:\"profile__avatar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-edit\",onClick:props.onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:currentUser.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",onClick:props.onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__profession\",children:currentUser.about})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__add-button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(CurrentCardContext.Provider,{value:cards,children:/*#__PURE__*/_jsx(\"section\",{className:\"elements root__elements\",children:cards.map(function(card,i){return/*#__PURE__*/_jsx(Card,{handleCardClick:props.onCardClick,card:card},card._id);})})})]});}export default Main;","map":{"version":3,"sources":["/Users/oleg/Desktop/prakticum/mesto-react/src/components/Main.js"],"names":["React","newApi","Card","CurrentUserContext","CurrentCardContext","Main","props","currentUser","useContext","useState","cards","setCards","useEffect","getInitialCards","then","data","catch","err","console","log","avatar","onEditAvatar","name","onEditProfile","about","onAddPlace","map","card","i","onCardClick","_id"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CAEnB,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBL,kBAAjB,CAApB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBmB,oBAoBOH,KAAK,CAACS,QAAN,CAAe,EAAf,CApBP,oDAoBZC,KApBY,qBAoBLC,QApBK,qBAsBnBX,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpBX,MAAM,CAACY,eAAP,GACGC,IADH,CACQ,SAACC,IAAD,CAAU,CACdJ,QAAQ,CAACI,IAAD,CAAR,CACD,CAHH,EAIGC,KAJH,CAIS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,EACD,CANH,EAOD,CARD,CAQG,EARH,EAWA,mBACE,cAAM,SAAS,CAAC,SAAhB,wBACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,YAAK,GAAG,CAAEV,WAAW,CAACa,MAAtB,CAA8B,GAAG,CAAC,+GAAlC,CAAwD,SAAS,CAAC,iBAAlE,EADF,cAEE,eAAQ,SAAS,CAAC,sBAAlB,CACQ,OAAO,CAAEd,KAAK,CAACe,YADvB,EAFF,GADF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,eAAd,UAA+Bd,WAAW,CAACe,IAA3C,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,sBAAhC,CACQ,OAAO,CAAEhB,KAAK,CAACiB,aADvB,EAFF,cAKE,UAAG,SAAS,CAAC,qBAAb,UAAoChB,WAAW,CAACiB,KAAhD,EALF,GAPF,cAcE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qBAAhC,CACQ,OAAO,CAAElB,KAAK,CAACmB,UADvB,EAdF,GADF,cAmBE,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAEf,KAApC,uBACE,gBAAS,SAAS,CAAC,yBAAnB,UAEIA,KAAK,CAACgB,GAAN,CAAU,SAACC,IAAD,CAAOC,CAAP,qBACR,KAAC,IAAD,EAAqB,eAAe,CAAEtB,KAAK,CAACuB,WAA5C,CACM,IAAI,CAAEF,IADZ,EAAWA,IAAI,CAACG,GAAhB,CADQ,EAAV,CAFJ,EADF,EAnBF,GADF,CAiCD,CAED,cAAezB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport newApi from \"../utils/api\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {CurrentCardContext} from \"../contexts/CurrentCardContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // const [userName, setUserName] = React.useState('');\n  // const [userDescription, setDescription] = React.useState('');\n  // const [userAvatar, setAvatar] = React.useState('');\n  //\n  // React.useEffect(() => {\n  //   newApi.getProfileInfo()\n  //     .then((data) => {\n  //       setUserName(data.name);\n  //       setDescription(data.about);\n  //       setAvatar(data.avatar);\n  //     })\n  //     .catch((err) => {\n  //       console.log('error', err)\n  //     })\n  // }, [])\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    newApi.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log('error', err)\n      })\n  }, [])\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt=\"аватар пользователя\" className=\"profile__avatar\"/>\n          <button className=\"profile__avatar-edit\"\n                  onClick={props.onEditAvatar}>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\"\n                  onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__profession\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\"\n                onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <CurrentCardContext.Provider value={cards}>\n        <section className=\"elements root__elements\">\n          {\n            cards.map((card, i) => (\n              <Card key={card._id} handleCardClick={props.onCardClick}\n                    card={card}\n              />\n            ))\n          }\n        </section>\n      </CurrentCardContext.Provider>\n    </main>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}